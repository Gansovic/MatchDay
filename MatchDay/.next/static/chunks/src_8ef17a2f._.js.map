{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/components/layout/header.tsx"],"sourcesContent":["/**\n * Professional Header Component\n * \n * Main navigation header that makes amateur players feel like they're using\n * a professional sports platform. Includes MatchDay branding and key navigation.\n */\n\n'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\n\ninterface HeaderProps {\n  className?: string;\n}\n\nexport const Header: React.FC<HeaderProps> = ({ className = '' }) => {\n  const pathname = usePathname();\n\n  const navItems = [\n    { href: '/', label: 'Home', icon: 'ðŸ ' },\n    { href: '/demo-dashboard', label: 'My Dashboard', icon: 'ðŸ“Š' },\n    { href: '/leagues', label: 'Explore Leagues', icon: 'ðŸ†' },\n    { href: '/teams', label: 'My Teams', icon: 'ðŸ‘¥' },\n    { href: '/profile', label: 'Profile Settings', icon: 'âš™ï¸' },\n  ];\n\n  const isActive = (href: string) => {\n    if (href === '/') {\n      return pathname === '/';\n    }\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <header className={`bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 ${className}`}>\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex items-center justify-between h-16\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\n            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">M</span>\n            </div>\n            <span className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              MatchDay\n            </span>\n          </Link>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex items-center space-x-1\">\n            {navItems.map((item) => (\n              <Link\n                key={item.href}\n                href={item.href}\n                className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\n                  isActive(item.href)\n                    ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300'\n                    : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'\n                }`}\n              >\n                <span className=\"text-lg\">{item.icon}</span>\n                <span className=\"font-medium\">{item.label}</span>\n              </Link>\n            ))}\n          </nav>\n\n          {/* Mobile menu button and action */}\n          <div className=\"flex items-center space-x-4\">\n            {/* Get Started button - visible when not on dashboard/profile/teams pages */}\n            {!pathname.includes('/dashboard') && !pathname.includes('/demo-dashboard') && !pathname.includes('/profile') && !pathname.includes('/leagues') && !pathname.includes('/teams') && (\n              <Link\n                href=\"/demo-dashboard\"\n                className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-colors\"\n              >\n                Get Started\n              </Link>\n            )}\n\n            {/* Mobile Navigation */}\n            <div className=\"md:hidden\">\n              <div className=\"flex items-center space-x-1\">\n                {navItems.slice(1).map((item) => (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    className={`p-2 rounded-lg transition-colors ${\n                      isActive(item.href)\n                        ? 'bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300'\n                        : 'text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'\n                    }`}\n                  >\n                    <span className=\"text-xl\">{item.icon}</span>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAKD;AACA;;;AAJA;;;AAUO,MAAM,SAAgC;QAAC,EAAE,YAAY,EAAE,EAAE;;IAC9D,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;YAAQ,MAAM;QAAK;QACvC;YAAE,MAAM;YAAmB,OAAO;YAAgB,MAAM;QAAK;QAC7D;YAAE,MAAM;YAAY,OAAO;YAAmB,MAAM;QAAK;QACzD;YAAE,MAAM;YAAU,OAAO;YAAY,MAAM;QAAK;QAChD;YAAE,MAAM;YAAY,OAAO;YAAoB,MAAM;QAAK;KAC3D;IAED,MAAM,WAAW,CAAC;QAChB,IAAI,SAAS,KAAK;YAChB,OAAO,aAAa;QACtB;QACA,OAAO,SAAS,UAAU,CAAC;IAC7B;IAEA,qBACE,6LAAC;QAAO,WAAW,AAAC,2EAAoF,OAAV;kBAC5F,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAA+B;;;;;;;;;;;0CAEjD,6LAAC;gCAAK,WAAU;0CAA+F;;;;;;;;;;;;kCAMjH,6LAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,6LAAC,+JAAA,CAAA,UAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAW,AAAC,sEAIX,OAHC,SAAS,KAAK,IAAI,IACd,kEACA;;kDAGN,6LAAC;wCAAK,WAAU;kDAAW,KAAK,IAAI;;;;;;kDACpC,6LAAC;wCAAK,WAAU;kDAAe,KAAK,KAAK;;;;;;;+BATpC,KAAK,IAAI;;;;;;;;;;kCAepB,6LAAC;wBAAI,WAAU;;4BAEZ,CAAC,SAAS,QAAQ,CAAC,iBAAiB,CAAC,SAAS,QAAQ,CAAC,sBAAsB,CAAC,SAAS,QAAQ,CAAC,eAAe,CAAC,SAAS,QAAQ,CAAC,eAAe,CAAC,SAAS,QAAQ,CAAC,2BACnK,6LAAC,+JAAA,CAAA,UAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAMH,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;8CACZ,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC,qBACtB,6LAAC,+JAAA,CAAA,UAAI;4CAEH,MAAM,KAAK,IAAI;4CACf,WAAW,AAAC,oCAIX,OAHC,SAAS,KAAK,IAAI,IACd,kEACA;sDAGN,cAAA,6LAAC;gDAAK,WAAU;0DAAW,KAAK,IAAI;;;;;;2CAR/B,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkBlC;GArFa;;QACM,qIAAA,CAAA,cAAW;;;KADjB","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/components/providers/query-provider.tsx"],"sourcesContent":["/**\n * React Query Provider\n * \n * Sets up React Query for the application to enable data fetching\n * and caching throughout the app.\n */\n\n'use client';\n\nimport React from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\n\ninterface QueryProviderProps {\n  children: React.ReactNode;\n}\n\nexport const QueryProvider: React.FC<QueryProviderProps> = ({ children }) => {\n  const [queryClient] = React.useState(() => new QueryClient({\n    defaultOptions: {\n      queries: {\n        staleTime: 5 * 60 * 1000, // 5 minutes\n        refetchOnWindowFocus: false,\n        retry: 1,\n      },\n    },\n  }));\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n    </QueryClientProvider>\n  );\n};"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAID;AACA;AAAA;;;AAHA;;;AASO,MAAM,gBAA8C;QAAC,EAAE,QAAQ,EAAE;;IACtE,MAAM,CAAC,YAAY,GAAG,6JAAA,CAAA,UAAK,CAAC,QAAQ;kCAAC,IAAM,IAAI,gLAAA,CAAA,cAAW,CAAC;gBACzD,gBAAgB;oBACd,SAAS;wBACP,WAAW,IAAI,KAAK;wBACpB,sBAAsB;wBACtB,OAAO;oBACT;gBACF;YACF;;IAEA,qBACE,6LAAC,yLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC1B;;;;;;AAGP;GAhBa;KAAA","debugId":null}},
    {"offset": {"line": 268, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/lib/services/edge-functions.service.ts"],"sourcesContent":["/**\n * Edge Functions Service for MatchDay\n * \n * Handles ALL server communication following the LEVER principle of server-side authority.\n * ALL business logic operations MUST go through Edge Functions to maintain data integrity,\n * security, and proper audit logging.\n * \n * @example\n * ```typescript\n * const result = await EdgeFunctionsService.getInstance().createLeague(leagueData);\n * const match = await EdgeFunctionsService.getInstance().recordMatchResult(matchData);\n * ```\n * \n * This service should be used for ALL write operations and complex business logic.\n */\n\nexport interface EdgeFunctionResponse<T = any> {\n  success: boolean;\n  data?: T;\n  error?: string;\n  auditLogId?: string;\n}\n\nexport class EdgeFunctionsService {\n  private static instance: EdgeFunctionsService;\n  private supabase: any; // Will be injected\n  \n  private constructor() {}\n  \n  static getInstance(): EdgeFunctionsService {\n    if (!EdgeFunctionsService.instance) {\n      EdgeFunctionsService.instance = new EdgeFunctionsService();\n    }\n    return EdgeFunctionsService.instance;\n  }\n  \n  setSupabaseClient(client: any) {\n    this.supabase = client;\n  }\n  \n  private async invokeFunction<T>(\n    functionName: string, \n    payload: any\n  ): Promise<EdgeFunctionResponse<T>> {\n    try {\n      const { data, error } = await this.supabase.functions.invoke(functionName, {\n        body: payload\n      });\n      \n      if (error) {\n        throw error;\n      }\n      \n      return data;\n    } catch (error) {\n      console.error(`Edge function ${functionName} failed:`, error);\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error occurred'\n      };\n    }\n  }\n  \n  // League Management\n  async createLeague(leagueData: {\n    name: string;\n    description?: string;\n    sport_type: string;\n    league_type: string;\n    location?: string;\n    season_start: string;\n    season_end: string;\n    max_teams: number;\n    entry_fee?: number;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('create-league', leagueData);\n  }\n  \n  async updateLeague(leagueId: string, updates: any): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('update-league', { leagueId, updates });\n  }\n  \n  async deleteLeague(leagueId: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('delete-league', { leagueId });\n  }\n  \n  // Team Management\n  async createTeam(teamData: {\n    league_id: string;\n    name: string;\n    logo_url?: string;\n    team_color?: string;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('create-team', teamData);\n  }\n  \n  async joinTeam(teamId: string, playerData: {\n    position?: string;\n    jersey_number?: number;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('join-team', { teamId, ...playerData });\n  }\n  \n  async leaveTeam(teamId: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('leave-team', { teamId });\n  }\n  \n  async updateTeamMember(teamId: string, userId: string, updates: {\n    position?: string;\n    jersey_number?: number;\n    is_active?: boolean;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('update-team-member', { teamId, userId, updates });\n  }\n  \n  // Match Management\n  async createMatch(matchData: {\n    league_id: string;\n    home_team_id: string;\n    away_team_id: string;\n    scheduled_date: string;\n    venue?: string;\n    match_day?: number;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('create-match', matchData);\n  }\n  \n  async recordMatchResult(matchId: string, result: {\n    home_score: number;\n    away_score: number;\n    events?: Array<{\n      team_id: string;\n      player_id: string;\n      event_type: string;\n      event_time: number;\n      description?: string;\n    }>;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('record-match-result', { matchId, ...result });\n  }\n  \n  async updateMatchStatus(matchId: string, status: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('update-match-status', { matchId, status });\n  }\n  \n  // Statistics & Achievements\n  async recalculatePlayerStats(playerId: string, leagueId?: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('recalculate-player-stats', { playerId, leagueId });\n  }\n  \n  async recalculateTeamStats(teamId: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('recalculate-team-stats', { teamId });\n  }\n  \n  async checkAchievements(userId: string, context?: any): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('check-achievements', { userId, context });\n  }\n  \n  // Schedule Generation\n  async generateLeagueSchedule(leagueId: string, options?: {\n    rounds?: number;\n    start_date?: string;\n    days_between_matches?: number;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('generate-schedule', { leagueId, options });\n  }\n  \n  // Batch Operations\n  async importPlayers(teamId: string, players: Array<{\n    email: string;\n    display_name: string;\n    position?: string;\n    jersey_number?: number;\n  }>): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('import-players', { teamId, players });\n  }\n  \n  async bulkCreateMatches(matches: Array<{\n    league_id: string;\n    home_team_id: string;\n    away_team_id: string;\n    scheduled_date: string;\n    venue?: string;\n    match_day?: number;\n  }>): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('bulk-create-matches', { matches });\n  }\n  \n  // User Profile\n  async updateUserProfile(updates: {\n    display_name?: string;\n    avatar_url?: string;\n    preferred_position?: string;\n    bio?: string;\n    date_of_birth?: string;\n    location?: string;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('update-user-profile', updates);\n  }\n  \n  // Cross-League Analytics\n  async getCrossLeagueStats(userId: string): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('get-cross-league-stats', { userId });\n  }\n  \n  async getGlobalLeaderboards(options?: {\n    stat_type?: string; // 'goals', 'assists', 'games_played'\n    sport_type?: string;\n    time_period?: string; // 'current_season', 'all_time'\n    limit?: number;\n  }): Promise<EdgeFunctionResponse> {\n    return this.invokeFunction('get-global-leaderboards', options || {});\n  }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 431, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/lib/auth/auth.service.ts"],"sourcesContent":["/**\n * Authentication Service for MatchDay\n * \n * Handles user authentication and session management following LEVER principles.\n * Integrates with Supabase Auth and manages user profiles automatically.\n * \n * @example\n * ```typescript\n * const { user, session } = await AuthService.getInstance().signInWithEmail(email, password);\n * await AuthService.getInstance().signOut();\n * ```\n * \n * This service should be used for ALL authentication operations.\n */\n\nimport { User, Session, AuthError } from '@supabase/supabase-js';\nimport { EdgeFunctionsService } from '../services/edge-functions.service';\n\nexport interface AuthUser extends User {\n  profile?: {\n    display_name: string;\n    avatar_url?: string;\n    preferred_position?: string;\n    bio?: string;\n    date_of_birth?: string;\n    location?: string;\n  };\n}\n\nexport interface AuthSession extends Session {\n  user: AuthUser;\n}\n\nexport interface SignUpData {\n  email: string;\n  password: string;\n  displayName: string;\n  preferredPosition?: string;\n  location?: string;\n}\n\nexport interface SignInData {\n  email: string;\n  password: string;\n}\n\nexport class AuthService {\n  private static instance: AuthService;\n  private supabase: any;\n  private currentUser: AuthUser | null = null;\n  private currentSession: AuthSession | null = null;\n  private listeners: Array<(user: AuthUser | null) => void> = [];\n  \n  private constructor() {}\n  \n  static getInstance(): AuthService {\n    if (!AuthService.instance) {\n      AuthService.instance = new AuthService();\n    }\n    return AuthService.instance;\n  }\n  \n  setSupabaseClient(client: any) {\n    this.supabase = client;\n    this.initializeAuthListener();\n  }\n  \n  private async initializeAuthListener() {\n    // Listen for auth state changes\n    this.supabase.auth.onAuthStateChange(async (event: string, session: Session | null) => {\n      if (session?.user) {\n        // Fetch user profile\n        const userWithProfile = await this.enrichUserWithProfile(session.user);\n        this.currentUser = userWithProfile;\n        this.currentSession = { ...session, user: userWithProfile } as AuthSession;\n      } else {\n        this.currentUser = null;\n        this.currentSession = null;\n      }\n      \n      // Notify listeners\n      this.listeners.forEach(listener => listener(this.currentUser));\n    });\n    \n    // Get initial session\n    const { data: { session } } = await this.supabase.auth.getSession();\n    if (session?.user) {\n      const userWithProfile = await this.enrichUserWithProfile(session.user);\n      this.currentUser = userWithProfile;\n      this.currentSession = { ...session, user: userWithProfile } as AuthSession;\n    }\n  }\n  \n  private async enrichUserWithProfile(user: User): Promise<AuthUser> {\n    try {\n      const { data: profile } = await this.supabase\n        .from('user_profiles')\n        .select('*')\n        .eq('id', user.id)\n        .single();\n      \n      return {\n        ...user,\n        profile: profile || undefined\n      };\n    } catch (error) {\n      console.warn('Failed to fetch user profile:', error);\n      return user as AuthUser;\n    }\n  }\n  \n  /**\n   * Sign up new user with automatic profile creation\n   */\n  async signUp(data: SignUpData): Promise<{\n    user: AuthUser | null;\n    session: AuthSession | null;\n    error: AuthError | null;\n  }> {\n    try {\n      const { data: authData, error: authError } = await this.supabase.auth.signUp({\n        email: data.email,\n        password: data.password\n      });\n      \n      if (authError) {\n        return { user: null, session: null, error: authError };\n      }\n      \n      if (authData.user) {\n        // Create user profile via Edge Function to ensure proper validation and audit logging\n        const profileResult = await EdgeFunctionsService.getInstance().updateUserProfile({\n          display_name: data.displayName,\n          preferred_position: data.preferredPosition,\n          location: data.location\n        });\n        \n        if (!profileResult.success) {\n          console.warn('Failed to create user profile:', profileResult.error);\n        }\n        \n        const enrichedUser = await this.enrichUserWithProfile(authData.user);\n        const enrichedSession = authData.session ? \n          { ...authData.session, user: enrichedUser } as AuthSession : null;\n        \n        return {\n          user: enrichedUser,\n          session: enrichedSession,\n          error: null\n        };\n      }\n      \n      return { user: null, session: null, error: null };\n    } catch (error) {\n      return {\n        user: null,\n        session: null,\n        error: error as AuthError\n      };\n    }\n  }\n  \n  /**\n   * Sign in existing user\n   */\n  async signIn(data: SignInData): Promise<{\n    user: AuthUser | null;\n    session: AuthSession | null;\n    error: AuthError | null;\n  }> {\n    try {\n      const { data: authData, error } = await this.supabase.auth.signInWithPassword({\n        email: data.email,\n        password: data.password\n      });\n      \n      if (error) {\n        return { user: null, session: null, error };\n      }\n      \n      if (authData.user) {\n        const enrichedUser = await this.enrichUserWithProfile(authData.user);\n        const enrichedSession = { ...authData.session, user: enrichedUser } as AuthSession;\n        \n        return {\n          user: enrichedUser,\n          session: enrichedSession,\n          error: null\n        };\n      }\n      \n      return { user: null, session: null, error: null };\n    } catch (error) {\n      return {\n        user: null,\n        session: null,\n        error: error as AuthError\n      };\n    }\n  }\n  \n  /**\n   * Sign in with OAuth providers (Google, etc.)\n   */\n  async signInWithOAuth(provider: 'google' | 'github' | 'discord'): Promise<{\n    error: AuthError | null;\n  }> {\n    try {\n      const { error } = await this.supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo: `${window.location.origin}/auth/callback`\n        }\n      });\n      \n      return { error };\n    } catch (error) {\n      return { error: error as AuthError };\n    }\n  }\n  \n  /**\n   * Sign out current user\n   */\n  async signOut(): Promise<{ error: AuthError | null }> {\n    try {\n      const { error } = await this.supabase.auth.signOut();\n      return { error };\n    } catch (error) {\n      return { error: error as AuthError };\n    }\n  }\n  \n  /**\n   * Reset password\n   */\n  async resetPassword(email: string): Promise<{ error: AuthError | null }> {\n    try {\n      const { error } = await this.supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/auth/reset-password`\n      });\n      \n      return { error };\n    } catch (error) {\n      return { error: error as AuthError };\n    }\n  }\n  \n  /**\n   * Update password\n   */\n  async updatePassword(newPassword: string): Promise<{ error: AuthError | null }> {\n    try {\n      const { error } = await this.supabase.auth.updateUser({\n        password: newPassword\n      });\n      \n      return { error };\n    } catch (error) {\n      return { error: error as AuthError };\n    }\n  }\n  \n  /**\n   * Update user profile\n   */\n  async updateProfile(updates: {\n    display_name?: string;\n    avatar_url?: string;\n    preferred_position?: string;\n    bio?: string;\n    date_of_birth?: string;\n    location?: string;\n  }): Promise<{ error: Error | null }> {\n    try {\n      const result = await EdgeFunctionsService.getInstance().updateUserProfile(updates);\n      \n      if (!result.success) {\n        return { error: new Error(result.error) };\n      }\n      \n      // Refresh current user data\n      if (this.currentUser) {\n        this.currentUser = await this.enrichUserWithProfile(this.currentUser);\n        this.listeners.forEach(listener => listener(this.currentUser));\n      }\n      \n      return { error: null };\n    } catch (error) {\n      return { error: error as Error };\n    }\n  }\n  \n  /**\n   * Get current user\n   */\n  getCurrentUser(): AuthUser | null {\n    return this.currentUser;\n  }\n  \n  /**\n   * Get current session\n   */\n  getCurrentSession(): AuthSession | null {\n    return this.currentSession;\n  }\n  \n  /**\n   * Check if user is authenticated\n   */\n  isAuthenticated(): boolean {\n    return !!this.currentUser;\n  }\n  \n  /**\n   * Subscribe to auth state changes\n   */\n  onAuthStateChange(callback: (user: AuthUser | null) => void): () => void {\n    this.listeners.push(callback);\n    \n    // Return unsubscribe function\n    return () => {\n      const index = this.listeners.indexOf(callback);\n      if (index > -1) {\n        this.listeners.splice(index, 1);\n      }\n    };\n  }\n  \n  /**\n   * Require authentication - throws if not authenticated\n   */\n  requireAuth(): AuthUser {\n    if (!this.currentUser) {\n      throw new Error('Authentication required');\n    }\n    return this.currentUser;\n  }\n  \n  /**\n   * Check if user has specific permissions\n   */\n  hasPermission(permission: 'create_league' | 'manage_team' | 'admin'): boolean {\n    if (!this.currentUser) return false;\n    \n    // For now, all authenticated users can create leagues and manage teams\n    // In the future, this could be enhanced with role-based permissions\n    switch (permission) {\n      case 'create_league':\n      case 'manage_team':\n        return true;\n      case 'admin':\n        // Check if user has admin role (would be stored in user metadata or separate table)\n        return this.currentUser.user_metadata?.role === 'admin';\n      default:\n        return false;\n    }\n  }\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 751, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/components/ui/loading-dialog.tsx"],"sourcesContent":["/**\n * Loading Dialog Component for MatchDay\n * \n * Adapted from TravelBuddies LEVER principles for professional loading states.\n * Provides consistent loading experience across the application.\n * \n * @example\n * ```typescript\n * await LoadingDialog.show({\n *   title: 'Creating League',\n *   message: 'Setting up your league...',\n *   operation: () => EdgeFunctionsService.getInstance().createLeague(data),\n * });\n * ```\n * \n * This component should be used for ALL loading states.\n */\n\nimport React, { useState, useCallback } from 'react';\nimport { createRoot } from 'react-dom/client';\n\ninterface LoadingDialogProps {\n  title: string;\n  message: string;\n  estimatedDuration?: number;\n  progress?: number;\n  onCancel?: () => void;\n}\n\ninterface ShowOptions<T> {\n  title: string;\n  message: string;\n  estimatedDuration?: number;\n  operation: () => Promise<T>;\n  onProgress?: (progress: number) => void;\n}\n\nconst LoadingDialogComponent: React.FC<LoadingDialogProps> = ({\n  title,\n  message,\n  estimatedDuration,\n  progress,\n  onCancel\n}) => {\n  const [currentProgress, setCurrentProgress] = useState(progress || 0);\n\n  React.useEffect(() => {\n    if (estimatedDuration && !progress) {\n      const interval = setInterval(() => {\n        setCurrentProgress(prev => {\n          if (prev >= 90) return prev;\n          return prev + (100 - prev) * 0.1;\n        });\n      }, estimatedDuration / 100);\n\n      return () => clearInterval(interval);\n    }\n  }, [estimatedDuration, progress]);\n\n  React.useEffect(() => {\n    if (progress !== undefined) {\n      setCurrentProgress(progress);\n    }\n  }, [progress]);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-2xl p-8 max-w-md w-full mx-4\">\n        {/* Header */}\n        <div className=\"text-center mb-6\">\n          <div className=\"w-16 h-16 mx-auto mb-4 relative\">\n            <div className=\"w-16 h-16 border-4 border-blue-200 dark:border-blue-800 rounded-full animate-pulse\"></div>\n            <div className=\"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-blue-600 dark:border-t-blue-400 rounded-full animate-spin\"></div>\n          </div>\n          \n          <h3 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-2\">\n            {title}\n          </h3>\n          <p className=\"text-gray-600 dark:text-gray-300\">\n            {message}\n          </p>\n        </div>\n\n        {/* Progress Bar */}\n        <div className=\"mb-6\">\n          <div className=\"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n            <div\n              className=\"bg-blue-600 dark:bg-blue-400 h-2 rounded-full transition-all duration-300 ease-out\"\n              style={{ width: `${currentProgress}%` }}\n            ></div>\n          </div>\n          <div className=\"text-xs text-gray-500 dark:text-gray-400 text-center mt-2\">\n            {Math.round(currentProgress)}% complete\n          </div>\n        </div>\n\n        {/* Cancel Button */}\n        {onCancel && (\n          <div className=\"text-center\">\n            <button\n              onClick={onCancel}\n              className=\"px-6 py-2 text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nclass LoadingDialogService {\n  private static instance: LoadingDialogService;\n  private currentDialog: HTMLDivElement | null = null;\n  private currentRoot: any = null;\n\n  static getInstance(): LoadingDialogService {\n    if (!LoadingDialogService.instance) {\n      LoadingDialogService.instance = new LoadingDialogService();\n    }\n    return LoadingDialogService.instance;\n  }\n\n  async show<T>({\n    title,\n    message,\n    estimatedDuration = 3000,\n    operation,\n    onProgress\n  }: ShowOptions<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n      // Create dialog container\n      this.currentDialog = document.createElement('div');\n      document.body.appendChild(this.currentDialog);\n      \n      this.currentRoot = createRoot(this.currentDialog);\n\n      let cancelled = false;\n      let progress = 0;\n\n      const handleCancel = () => {\n        cancelled = true;\n        this.hide();\n        reject(new Error('Operation cancelled'));\n      };\n\n      const updateProgress = (newProgress: number) => {\n        progress = newProgress;\n        if (onProgress) onProgress(newProgress);\n        this.render({ title, message, estimatedDuration, progress, onCancel: handleCancel });\n      };\n\n      // Initial render\n      this.render({ title, message, estimatedDuration, progress, onCancel: handleCancel });\n\n      // Execute operation\n      operation()\n        .then((result) => {\n          if (!cancelled) {\n            updateProgress(100);\n            setTimeout(() => {\n              this.hide();\n              resolve(result);\n            }, 300);\n          }\n        })\n        .catch((error) => {\n          if (!cancelled) {\n            this.hide();\n            reject(error);\n          }\n        });\n    });\n  }\n\n  private render(props: LoadingDialogProps) {\n    if (this.currentRoot) {\n      this.currentRoot.render(<LoadingDialogComponent {...props} />);\n    }\n  }\n\n  hide() {\n    if (this.currentRoot) {\n      this.currentRoot.unmount();\n      this.currentRoot = null;\n    }\n    if (this.currentDialog) {\n      document.body.removeChild(this.currentDialog);\n      this.currentDialog = null;\n    }\n  }\n}\n\nexport const LoadingDialog = LoadingDialogService.getInstance();"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1030, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/lib/supabase/client.ts"],"sourcesContent":["/**\n * Supabase Client Configuration for MatchDay\n * \n * Provides singleton Supabase client instances optimized for Next.js 15 App Router.\n * Includes proper client/server component handling and authentication integration.\n * \n * @example\n * ```typescript\n * // In Client Components\n * import { supabase } from '@/lib/supabase/client';\n * const { data } = await supabase.auth.getUser();\n * \n * // In Server Components\n * import { createServerClient } from '@/lib/supabase/client';\n * const supabase = createServerClient();\n * ```\n */\n\nimport { createClient } from '@supabase/supabase-js';\nimport { Database } from '@/lib/types/database.types';\n\n// Environment variables validation\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\nif (!supabaseUrl) {\n  throw new Error('Missing NEXT_PUBLIC_SUPABASE_URL environment variable');\n}\n\nif (!supabaseAnonKey) {\n  throw new Error('Missing NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable');\n}\n\n/**\n * Supabase client for Client Components\n * \n * This client automatically handles authentication state and is safe to use\n * in client-side React components.\n */\nexport const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n    detectSessionInUrl: true,\n    flowType: 'pkce',\n    storage: typeof window !== 'undefined' ? window.localStorage : undefined\n  },\n  global: {\n    headers: {\n      'X-Client-Info': 'matchday-web@1.0.0'\n    }\n  }\n});\n\n/**\n * Create a Supabase client for Server Components\n * \n * This function creates a server-side client that can access cookies\n * for authentication in Server Components and Route Handlers.\n */\nexport function createServerClient() {\n  // For server-side usage, we'll need to handle cookies differently\n  // This is a simplified version - in a real app you'd use @supabase/ssr\n  return createClient<Database>(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false,\n      detectSessionInUrl: false\n    },\n    global: {\n      headers: {\n        'X-Client-Info': 'matchday-server@1.0.0'\n      }\n    }\n  });\n}\n\n/**\n * Create an admin client for server-side operations that require elevated permissions\n * \n * WARNING: Only use this in secure server-side contexts (API routes, server actions)\n * Never expose the service role key to the client!\n */\nexport function createAdminClient() {\n  const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\n  \n  if (!supabaseServiceKey) {\n    throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY environment variable');\n  }\n  \n  return createClient<Database>(supabaseUrl, supabaseServiceKey, {\n    auth: {\n      persistSession: false,\n      autoRefreshToken: false\n    },\n    global: {\n      headers: {\n        'X-Client-Info': 'matchday-admin@1.0.0'\n      }\n    }\n  });\n}\n\n/**\n * Type-safe helper for getting the current user\n */\nexport async function getCurrentUser() {\n  try {\n    const { data: { user }, error } = await supabase.auth.getUser();\n    \n    if (error) {\n      console.error('Error getting current user:', error);\n      return null;\n    }\n    \n    return user;\n  } catch (error) {\n    console.error('Unexpected error getting current user:', error);\n    return null;\n  }\n}\n\n/**\n * Type-safe helper for getting the current session\n */\nexport async function getCurrentSession() {\n  try {\n    const { data: { session }, error } = await supabase.auth.getSession();\n    \n    if (error) {\n      console.error('Error getting current session:', error);\n      return null;\n    }\n    \n    return session;\n  } catch (error) {\n    console.error('Unexpected error getting current session:', error);\n    return null;\n  }\n}\n\n/**\n * Utility function to handle Supabase auth redirects\n */\nexport function getAuthRedirectUrl(path: string = '/dashboard') {\n  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'http://localhost:3000';\n  return `${baseUrl}${path}`;\n}"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;CAgBC;;;;;;;;AAMmB;AAJpB;;AAGA,mCAAmC;AACnC,MAAM;AACN,MAAM;AAEN;;AAIA;;AAUO,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,EAAY,aAAa,iBAAiB;IAC3E,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;QACpB,UAAU;QACV,SAAS,uCAAgC,OAAO,YAAY,GAAG;IACjE;IACA,QAAQ;QACN,SAAS;YACP,iBAAiB;QACnB;IACF;AACF;AAQO,SAAS;IACd,kEAAkE;IAClE,uEAAuE;IACvE,OAAO,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,EAAY,aAAa,iBAAiB;QAC1D,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;YAClB,oBAAoB;QACtB;QACA,QAAQ;YACN,SAAS;gBACP,iBAAiB;YACnB;QACF;IACF;AACF;AAQO,SAAS;IACd,MAAM,qBAAqB,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,yBAAyB;IAEhE,IAAI,CAAC,oBAAoB;QACvB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,EAAY,aAAa,oBAAoB;QAC7D,MAAM;YACJ,gBAAgB;YAChB,kBAAkB;QACpB;QACA,QAAQ;YACN,SAAS;gBACP,iBAAiB;YACnB;QACF;IACF;AACF;AAKO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;QAE7D,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0CAA0C;QACxD,OAAO;IACT;AACF;AAKO,eAAe;IACpB,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;QAEnE,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,kCAAkC;YAChD,OAAO;QACT;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,6CAA6C;QAC3D,OAAO;IACT;AACF;AAKO,SAAS;QAAmB,OAAA,iEAAe;IAChD,MAAM,UAAU,6DAAoC;IACpD,OAAO,AAAC,GAAY,OAAV,SAAe,OAAL;AACtB","debugId":null}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///Users/lukini/MatchDay/MatchDay/src/components/auth/auth-provider.tsx"],"sourcesContent":["/**\n * Authentication Provider Component\n * \n * React context provider that manages authentication state across the application.\n * Follows LEVER principles by providing centralized auth state management.\n * \n * @example\n * ```typescript\n * <AuthProvider supabaseClient={supabase}>\n *   <App />\n * </AuthProvider>\n * \n * // In components:\n * const { user, signIn, signOut, isLoading } = useAuth();\n * ```\n */\n\n'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { AuthService, AuthUser } from '@/lib/auth/auth.service';\nimport { LoadingDialog } from '@/components/ui/loading-dialog';\nimport { supabase } from '@/lib/supabase/client';\n\ninterface AuthContextType {\n  user: AuthUser | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  signUp: (data: {\n    email: string;\n    password: string;\n    displayName: string;\n    preferredPosition?: string;\n    location?: string;\n  }) => Promise<{ success: boolean; error?: string }>;\n  signIn: (data: {\n    email: string;\n    password: string;\n  }) => Promise<{ success: boolean; error?: string }>;\n  signInWithOAuth: (provider: 'google' | 'github' | 'discord') => Promise<{ success: boolean; error?: string }>;\n  signOut: () => Promise<void>;\n  updateProfile: (updates: {\n    display_name?: string;\n    avatar_url?: string;\n    preferred_position?: string;\n    bio?: string;\n    date_of_birth?: string;\n    location?: string;\n  }) => Promise<{ success: boolean; error?: string }>;\n  resetPassword: (email: string) => Promise<{ success: boolean; error?: string }>;\n  hasPermission: (permission: 'create_league' | 'manage_team' | 'admin') => boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n  supabaseClient?: any;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({\n  children,\n  supabaseClient = supabase\n}) => {\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const authService = AuthService.getInstance();\n\n  useEffect(() => {\n    // Initialize auth service with Supabase client\n    authService.setSupabaseClient(supabaseClient);\n\n    // Subscribe to auth state changes\n    const unsubscribe = authService.onAuthStateChange((user) => {\n      setUser(user);\n      setIsLoading(false);\n    });\n\n    // Initial user check\n    const currentUser = authService.getCurrentUser();\n    setUser(currentUser);\n    setIsLoading(false);\n\n    return unsubscribe;\n  }, [supabaseClient]);\n\n  const signUp = async (data: {\n    email: string;\n    password: string;\n    displayName: string;\n    preferredPosition?: string;\n    location?: string;\n  }): Promise<{ success: boolean; error?: string }> => {\n    try {\n      const result = await LoadingDialog.show({\n        title: 'Creating Account',\n        message: 'Setting up your player profile...',\n        operation: () => authService.signUp(data)\n      });\n\n      if (result.error) {\n        return { success: false, error: result.error.message };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : 'Failed to create account'\n      };\n    }\n  };\n\n  const signIn = async (data: {\n    email: string;\n    password: string;\n  }): Promise<{ success: boolean; error?: string }> => {\n    try {\n      const result = await LoadingDialog.show({\n        title: 'Signing In',\n        message: 'Authenticating your account...',\n        operation: () => authService.signIn(data)\n      });\n\n      if (result.error) {\n        return { success: false, error: result.error.message };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : 'Failed to sign in'\n      };\n    }\n  };\n\n  const signInWithOAuth = async (\n    provider: 'google' | 'github' | 'discord'\n  ): Promise<{ success: boolean; error?: string }> => {\n    try {\n      const result = await authService.signInWithOAuth(provider);\n\n      if (result.error) {\n        return { success: false, error: result.error.message };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : 'Failed to sign in'\n      };\n    }\n  };\n\n  const signOut = async (): Promise<void> => {\n    try {\n      await LoadingDialog.show({\n        title: 'Signing Out',\n        message: 'Ending your session...',\n        operation: () => authService.signOut()\n      });\n    } catch (error) {\n      console.error('Sign out error:', error);\n    }\n  };\n\n  const updateProfile = async (updates: {\n    display_name?: string;\n    avatar_url?: string;\n    preferred_position?: string;\n    bio?: string;\n    date_of_birth?: string;\n    location?: string;\n  }): Promise<{ success: boolean; error?: string }> => {\n    try {\n      const result = await LoadingDialog.show({\n        title: 'Updating Profile',\n        message: 'Saving your changes...',\n        operation: () => authService.updateProfile(updates)\n      });\n\n      if (result.error) {\n        return { success: false, error: result.error.message };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : 'Failed to update profile'\n      };\n    }\n  };\n\n  const resetPassword = async (email: string): Promise<{ success: boolean; error?: string }> => {\n    try {\n      const result = await authService.resetPassword(email);\n\n      if (result.error) {\n        return { success: false, error: result.error.message };\n      }\n\n      return { success: true };\n    } catch (error) {\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : 'Failed to send reset email'\n      };\n    }\n  };\n\n  const hasPermission = (permission: 'create_league' | 'manage_team' | 'admin'): boolean => {\n    return authService.hasPermission(permission);\n  };\n\n  const value: AuthContextType = {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n    signUp,\n    signIn,\n    signInWithOAuth,\n    signOut,\n    updateProfile,\n    resetPassword,\n    hasPermission\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = (): AuthContextType => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\n// Higher-order component for protecting routes\nexport const withAuth = <P extends object>(\n  Component: React.ComponentType<P>\n): React.FC<P> => {\n  return function AuthenticatedComponent(props: P) {\n    const { user, isLoading } = useAuth();\n\n    if (isLoading) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n        </div>\n      );\n    }\n\n    if (!user) {\n      // Redirect to sign in page or show sign in modal\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              Authentication Required\n            </h2>\n            <p className=\"text-gray-600 mb-8\">\n              Please sign in to access this page.\n            </p>\n            {/* You would typically redirect to a sign-in page here */}\n          </div>\n        </div>\n      );\n    }\n\n    return <Component {...props} />;\n  };\n};\n\n// Hook for requiring authentication\nexport const useRequireAuth = (): AuthUser => {\n  const { user, isLoading } = useAuth();\n\n  if (isLoading) {\n    throw new Promise(() => {}); // Suspend until loading is complete\n  }\n\n  if (!user) {\n    throw new Error('Authentication required');\n  }\n\n  return user;\n};"],"names":[],"mappings":"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","debugId":null}}]
}